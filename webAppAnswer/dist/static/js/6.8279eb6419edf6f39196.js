webpackJsonp([6],{SaQH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),o=a("GgDs"),s=a("AJBx"),r=[{idx:1,name:"材料科学与工程学院"},{idx:2,name:"测绘与地理信息学院"},{idx:3,name:"电子与信息工程学院"},{idx:4,name:"法学院"},{idx:5,name:"海洋与地球科学学院"},{idx:6,name:"航空航天与力学学院"},{idx:7,name:"化学科学与工程学院"},{idx:8,name:"环境科学与工程学院"},{idx:9,name:"机械与能源工程学院"},{idx:10,name:"建筑与城市规划学院"},{idx:11,name:"交通运输工程学院"},{idx:12,name:"经济与管理学院"},{idx:13,name:"口腔医学院"},{idx:14,name:"马克思主义学院"},{idx:15,name:"汽车学院"},{idx:16,name:"人文学院"},{idx:17,name:"软件学院"},{idx:18,name:"上海国际知识产权学院"},{idx:19,name:"设计创意学院"},{idx:20,name:"生命科学与技术学院"},{idx:21,name:"数学科学学院"},{idx:22,name:"体育教学部"},{idx:23,name:"铁道与城市轨道交通研究院"},{idx:24,name:"土木工程学院"},{idx:25,name:"外国语学院"},{idx:26,name:"物理科学与工程学院"},{idx:27,name:"医学院"},{idx:28,name:"艺术与传媒学院"},{idx:29,name:"政治与国际关系学院"},{idx:30,name:"中德工程学院/职业技术教育学院"},{idx:31,name:"中德学院"}],l=a("t5DY"),m={name:"reg",components:{Header:o.a,Loading:s.a},data:function(){return{title:"注册",href:-1,jumpState:!1,json:[],academy:"",password:"",mobile:"",name:"",loading:!1,warning:!1,message:"",checkInfo:""}},created:function(){this.json=r,console.log(this.$route.query.state),this.$route.query.state&&1==this.$route.query.state?this.checkInfo="1":this.checkInfo="0"},methods:{closeWarning:function(e){this.warning=e},reg:function(){this.mobile=this.mobile.replace(/(^\s*)|(\s*$)/g,""),this.password=this.password.replace(/(^\s*)|(\s*$)/g,""),this.name=this.name.replace(/(^\s*)|(\s*$)/g,""),this.name?this.mobile?/^1[3|4|5|6|7|8][0-9]\d{4,8}$/.test(this.mobile)?this.academy?this.password?this.postReg():mui.alert("密码不能为空","","返回",null,"div"):mui.alert("学院不能为空","","返回",null,"div"):mui.alert("手机号格式不正确","","返回",null,"div"):mui.alert("手机号不能为空","","返回",null,"div"):mui.alert("用户名不能为空","","返回",null,"div")},postLogin:function(){var e=this;this.loading=!0,console.log("checkInfo"+this.checkInfo),l.a.getServerData({mobile:this.mobile,password:this.password,checkInfo:this.checkInfo},"onlineExamination.action.examinationAction[login]",!0,function(t){if(console.log(t),t.userInfo){var a=n()(t.userInfo);mui.toast("登录成功",{duration:"long",type:"div"}),sessionStorage.setItem("userInfo",a),e.$router.push({path:"main"})}else mui.alert("账号密码有误","","返回",null,"div");e.loading=!1})},postReg:function(){var e=this;this.loading=!0,l.a.getServerData({name:this.name,mobile:this.mobile,password:this.password,academy:this.academy},"onlineExamination.action.examinationAction[register]",!0,function(t){console.log(t),console.log(t.type),"001"==t.type?(e.loading=!1,mui.toast("注册成功",{duration:"long",type:"div"}),e.postLogin()):"002"==t.type&&(e.loading=!1,mui.alert("手机号已被注册","","返回",null,"div"))})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"reg"},[a("Header",{attrs:{title:e.title,href:e.href,jumpState:e.jumpState}}),e._v(" "),a("div",{staticClass:"reg-content"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-item"},[a("label",{attrs:{for:""}},[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-item"},[a("label",{attrs:{for:""}},[e._v("手机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:""},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-item"},[a("label",{attrs:{for:""}},[e._v("学院")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.academy,expression:"academy"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.academy=t.target.multiple?a:a[0]}}},e._l(e.json,function(t){return a("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}))]),e._v(" "),a("div",{staticClass:"input-item"},[a("label",{attrs:{for:""}},[e._v("密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"button-group"},[a("button",{staticClass:"btn reg-btn",on:{click:e.reg}},[e._v("注册")])])])],1),e._v(" "),e.loading?a("Loading"):e._e()],1)},staticRenderFns:[]};var u=a("vSla")(m,d,!1,function(e){a("yULS")},"data-v-abf5253c",null);t.default=u.exports},yULS:function(e,t){}});
//# sourceMappingURL=6.8279eb6419edf6f39196.js.map