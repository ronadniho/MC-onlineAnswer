webpackJsonp([3],{"5qeb":function(e,t){},FzZd:function(e,t,s){"use strict";var n=s("5pnV"),i=s("j6Iq"),o=s("XvZ9"),a=s("OXaN"),r=s("mEMm"),l=Object.assign;e.exports=!l||s("BRDz")(function(){var e={},t={},s=Symbol(),n="abcdefghijklmnopqrst";return e[s]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[s]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var s=a(e),l=arguments.length,c=1,g=i.f,u=o.f;l>c;)for(var m,h=r(arguments[c++]),d=g?n(h).concat(g(h)):n(h),f=d.length,_=0;f>_;)u.call(h,m=d[_++])&&(s[m]=h[m]);return s}:l},"H+gd":function(e,t,s){"use strict";t.a=function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getHours()<10?"0"+e.getHours():e.getHours(),i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return e.getFullYear()+"-"+t+"-"+s+" "+n+":"+i+":"+o}},aA9S:function(e,t,s){e.exports={default:s("vWcR"),__esModule:!0}},aOIP:function(e,t){},jUTB:function(e,t,s){var n=s("FITv");n(n.S+n.F,"Object",{assign:s("FzZd")})},vCCA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("aA9S"),i=s.n(n),o=s("3cXf"),a=s.n(o),r=s("GgDs"),l={name:"Tip",props:[],data:function(){return{}},created:function(){document.addEventListener("DOMContentLoaded",function(){document.querySelector("main").className+="loaded"})},methods:{}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"content flex"},[t("main",{attrs:{id:"loaded"}},[t("div",{staticClass:"loaders"},[t("div",{staticClass:"loader"},[t("div",{staticClass:"loader-inner line-scale"},[t("div"),this._v(" "),t("div"),this._v(" "),t("div"),this._v(" "),t("div"),this._v(" "),t("div")])])])]),this._v(" "),t("div",{staticClass:"tips"},[this._v("活动还没开始请等待")])])])}]};var g=s("vSla")(l,c,!1,function(e){s("5qeb")},"data-v-e02e1872",null).exports,u=s("t5DY"),m=s("H+gd"),h=s("L7Pj"),d=s.n(h),f=["A:","B:","C:","D:","E:","F:","G:","H:","I:","J:","K:","L:","M:","N:","O:","P:","Q:","R:","S:","T:","U:","V:","W:","X:","Y:","Z:"],_={name:"Answer",components:{Header:r.a,Tip:g},data:function(){return{title:"竞赛",href:-1,jumpState:!0,alert:!0,layerToggle:!0,totalPage:0,page:1,user_id:"",user_name:"",integral:"",sessionId:"",examlist:[],examName:"同济党建知识竞赛",exampass:0,loading:!0,result:!1,message:"",endTime:"",startTime:"",state:!1,clo:!0,version:"",count:0,statue:!1,userInfo:{},msg_json:{},alertStatus:!1,clear:!1,sel:[]}},beforeRouteEnter:function(e,t,s){var n=sessionStorage.getItem("userInfo");s(function(e){n?s():e.$router.push({path:"login"})})},beforeRouteLeave:function(e,t,s){var n=this;"/main"!=e.path||this.alertStatus||this.clear?this.clear?(s(),location.reload()):s():(mui.confirm("是否退出","",["是","否"],function(e){e.index?s(!1):(location.reload(),s(),n.$router.go(-1))},"div"),s(!1))},created:function(){this.sel=f;var e=sessionStorage.getItem("userInfo");e&&(this.userInfo=JSON.parse(e),this.user_id=this.userInfo.ID,this.user_name=this.userInfo.user_name,this.integral=this.userInfo.integral);this.JoinRoomProcess()},mounted:function(){mui.back=function(){}},methods:{setsSession:function(){var e=this;if(!this.msg_json.disabled){var t=JSON.parse(localStorage.getItem(this.msg_json.random));if(t){for(var s=0;s<t.length&&t[s].ID!=this.msg_json.ID;s++);s<t.length?t[s]=this.msg_json:t.push(this.msg_json),setTimeout(function(){localStorage.setItem([e.msg_json.random],a()(t))},200)}else setTimeout(function(){localStorage.setItem([e.msg_json.random],a()([e.msg_json]))},200)}},sendMsg:function(e){clientChat.SendJson(e)},JoinRoomProcess:function(){var e=this;console.log("user_id:"+this.user_id),clientChat.Chat(this.user_id,"125132355155885",this.receiveMessage,function(){console.log("加入成功回调,可以开始发送消息"),e.sendMsg("get")})},receiveMessage:function(e,t){var s=this;if(t){var n=d.a.parseJSON(e.content);console.log("1"),console.log(n)}else{var o=d.a.parseJSON(e.content);if(console.log("2"),console.log(o),"clear"!=o){if(!o.ANSWER)if(o.ANSWER="",console.log(o.random),l=JSON.parse(localStorage.getItem(o.random))){for(var r=0;r<l.length&&l[r].ID!=o.ID;r++);r<l.length?(l[r].ANSWER&&(o.ANSWER=l[r].ANSWER),l[r]=o):l.push(o),console.log(l),localStorage.setItem(o.random,a()(l))}else console.log(o),localStorage.setItem(o.random,a()([o]));this.msg_json=i()({},this.msg_json,o),console.log(this.msg_json),this.loading=!1}else if("clear"==o){this.clear=!0,console.log(this.msg_json.random);var l=JSON.parse(localStorage.getItem(this.msg_json.random));console.log(l),console.log(this.userInfo.ID),console.log(this.userInfo.NAME),console.log(this.userInfo.SCENE_INTEGRAL),u.a.getServerData({examinationPaperList:l,user_id:this.userInfo.ID,user_name:this.userInfo.NAME,start_time:"2018-6-26 15:00:00",end_time:"2018-6-27 20:00:00",scene_player:this.userInfo.SCENE_INTEGRAL},"onlineExamination.action.fieldAnswer[markingPapers]",!0,function(e){console.log(e),console.log(e.userInfo),localStorage.setItem("userInfo",a()(e.userInfo)),localStorage.removeItem(s.msg_json.random),s.$router.go(-1)})}}return!1},pushHistory:function(){},warning:function(){mui.confirm("是否退出","退出",["是","否"],this.alerts,"div")},alerts:function(e){this.count=1,e.index||(this.alertStatus=!0,this.$router.go(-1),setTimeout(function(){location.reload()},100))},getAnswercnt:function(){var e=this,t=this;u.a.getServerData({user_id:this.user_id},"onlineExamination.action.examinationAction[getAnswercnt]",!0,function(s){console.log(s),console.log(s.responsesnum.RESPONSESNUM),"1"==s.responsesnum.RESPONSESNUM?(e.count=1,mui.alert("今日答题次数已用完明天再来","","返回",t.$router.go(-1),"div")):e.getClassExamlist(e.user_id)})},common:function(e){this.examlist=e,this.totalPage=e.length,this.loading=!1,this.setSession(e),alert(e)},guide:function(e){alert(e),this.layerToggle=!this.layerToggle,this.page=e+1},submit:function(){var e=this;this.endTime=Object(m.a)();var t=this;alert(this.examlist),this.loading=!0,this.examlist.map(function(t){alert(t.QUESTIONS_TYPE),t.endTime=e.endTime,1==t.QUESTIONS_TYPE&&(alert(t.ANSWER.length),t.ANSWER.length>1?t.ANSWER=Array.prototype.join.call(t.ANSWER,"|"):0==t.ANSWER.length?t.ANSWER="":t.ANSWER=Array.prototype.join.call(t.ANSWER,""))}),alert(this.examlist),alert(this.user_id),alert(this.user_name),alert(this.integral),u.a.getServerData({examinationPaperList:this.examlist,user_id:this.user_id,user_name:this.user_name,integral:this.integral,start_time:this.startTime,end_time:this.endTime},"onlineExamination.action.examinationAction[markingPapers]",!0,function(s){if(alert(s),"请求失败"==s)mui.alert("服务器出错","","返回",t.back,"div");else{var n=a()(s);e.$router.push({path:"answerResult",query:{res:n}})}})},setSession:function(e){localStorage.setItem([this.classid],a()(e))},getSession:function(e){return JSON.parse(localStorage.getItem([e]))},answerCardToggle:function(){this.layerToggle=!this.layerToggle,this.setSession(this.examlist)},close:function(){this.$router.go(-1)},back:function(){this.$router.go(-1)},signToggle:function(){alert(this.page),this.examlist[this.page-1].sign=!this.examlist[this.page-1].sign,this.setSession(this.examlist)},next:function(){this.page<this.totalPage&&(this.page++,this.setSession(this.examlist))},prev:function(){this.page>1&&(this.page--,this.setSession(this.examlist))}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Header",{attrs:{title:e.title,href:e.href,jumpState:e.jumpState,alert:e.alert},on:{child:e.warning}}),e._v(" "),e.layerToggle&&!e.message?s("div",{staticClass:"container answer"},[s("div",{staticClass:"content"},[s("div",{staticClass:"subject"},[s("b",[e._v(e._s(e.examName))])]),e._v(" "),s("div",{staticClass:"result"},[s("div",{staticClass:"result-item"},[s("div",[s("div",{staticClass:"title"},[e._v("\n              "+e._s(e.msg_json.QUESTIONS_CONTENT)+"\n            ")]),e._v(" "),s("div",{staticClass:"box-item single"},e._l(e.msg_json.option_content,function(t,n){return s("div",{key:n,staticClass:"box",on:{click:e.setsSession}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.msg_json.ANSWER,expression:"msg_json.ANSWER"}],attrs:{type:"radio",id:"radio"+e.msg_json.ID+n,disabled:e.msg_json.disabled},domProps:{value:t,checked:e._q(e.msg_json.ANSWER,t)},on:{change:function(s){e.$set(e.msg_json,"ANSWER",t)}}}),e._v(" "),s("label",{class:[e.msg_json.disabled&&t==e.msg_json.REFERENCE_ANSWER?"pass":"",e.msg_json.disabled&&t==e.msg_json.ANSWER&&t!==e.msg_json.REFERENCE_ANSWER?"no":""],attrs:{for:"radio"+e.msg_json.ID+n}},[e._v(e._s(e.sel[n])+"   "+e._s(t))])])}))])])])])]):e._e(),e._v(" "),e.loading?s("Tip"):e._e()],1)},staticRenderFns:[]};var S=s("vSla")(_,v,!1,function(e){s("aOIP")},"data-v-58560fe7",null);t.default=S.exports},vWcR:function(e,t,s){s("jUTB"),e.exports=s("AKd3").Object.assign}});
//# sourceMappingURL=3.95aca5c127447aa85e3a.js.map