webpackJsonp([4],{"+zyu":function(t,e){},"3jL2":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("3cXf"),n=o.n(s),i=o("GgDs"),a=o("AJBx"),r=o("t5DY"),l={name:"Login",components:{Header:i.a,Loading:a.a},data:function(){return{title:"登录",href:"/",mobile:"",password:"",loading:!1,warning:!1,message:"",checkInfo:"0"}},beforeRouteEnter:function(t,e,o){console.log(t),console.log(e);var s=sessionStorage.getItem("userInfo");o(function(t){s?o():console.log(t.$router)})},beforeRouteLeave:function(t,e,o){console.log(t.path),console.log(e.path),o()},created:function(){console.log("state:"+this.$route.query.state),this.$route.query.state&&1==this.$route.query.state?this.checkInfo="1":this.checkInfo="0"},mounted:function(){sessionStorage.getItem("userInfo")&&this.$router.push({path:"main"})},methods:{toLink:function(){console.log(this.checkInfo),this.$router.push({path:"register",query:{state:this.checkInfo}})},login:function(){this.mobile=this.mobile.replace(/(^\s*)|(\s*$)/g,""),this.password=this.password.replace(/(^\s*)|(\s*$)/g,""),console.log(this.mobile,this.password),this.mobile?this.password?this.postLogin():mui.alert("密码不能为空","","返回",null,"div"):mui.alert("手机号不能为空","","返回",null,"div")},closeWarning:function(t){this.warning=t},postLogin:function(){var t=this;this.loading=!0,console.log("checkInfo"+this.checkInfo),r.a.getServerData({mobile:this.mobile,password:this.password,checkInfo:this.checkInfo},"onlineExamination.action.examinationAction[login]",!0,function(e){if(console.log(e),e.userInfo){var o=n()(e.userInfo);mui.toast("登录成功",{duration:"long",type:"div"}),sessionStorage.setItem("userInfo",o),t.$router.push({path:"main"})}else mui.alert("账号密码有误","","返回",null,"div");t.loading=!1})}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"login"},[o("Header",{attrs:{title:t.title}}),t._v(" "),o("div",{staticClass:"login-content"},[t._m(0),t._v(" "),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"button-group"},[o("button",{staticClass:"btn login-btn",on:{click:t.login}},[t._v("登录")]),t._v(" "),o("button",{staticClass:"btn register-btn",on:{click:t.toLink}},[t._v("注册")])])])],1),t._v(" "),t.loading?o("Loading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:o("7Otq"),alt:""}})])}]};var u=o("vSla")(l,c,!1,function(t){o("+zyu")},"data-v-2e511fe4",null);e.default=u.exports},"7Otq":function(t,e,o){t.exports=o.p+"static/img/logo.6076f93.png"}});
//# sourceMappingURL=4.e5a3ce8725168981de1b.js.map